(()=>{"use strict";var t={266(t,e,n){n.d(e,{A:()=>l});var r=n(354),a=n.n(r),o=n(314),s=n.n(o)()(a());s.push([t.id,":host {\n  --fallback-font: 400 1.25rem 'Sora', system-ui;\n}\n:host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: clamp(1.5rem, 4vw, 2rem);\n  padding-top: clamp(1em, 4vw, 2em);\n  max-width: 700px;\n  margin: 0 auto;\n}\np {\n  margin: 0;\n  color: var(--neutral-400, white);\n}\n.red-txt {\n  color: var(--red-500, red);\n}\n.green-txt {\n  color: var(--green-500, green);\n}\n.grey-txt {\n  color: var(--neutral-400, white)\n}\n.complete-icon {\n  border-radius: 50%;\n  box-shadow: \n    0 0 0 clamp(8px, 2vw, 16px) hsl(from var(--green-500, green) h s l / 0.2),\n    0 0 0 clamp(16px, 4vw, 32px) hsl(from var(--green-500, green) h s l / 0.1);\n}\n.text {\n  text-align: center;\n}\n.content {\n  font: var( --text-preset-3-mobile, var(--fallback-font));\n}\n.title {\n  margin-block: clamp(1rem, 3vw, 1.5rem);\n  font: var(--text-preset-1-mobile, var(--fallback-font));\n}\n.scores {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n\n  @media (min-width: 40em) {\n    flex-direction: row;\n    gap: 1.25em;\n  }\n}\n.score-value {\n  font: var(--text-preset-2, var(--fallback-font));\n}\n.score-item {\n  flex: 1;\n\n  border: var(--neutral-700, white) solid 1px;\n  border-radius: 8px;\n\n  padding: 1em 1.5em;\n  display: grid;\n  gap: 0.75em;\n}\n.score-label {\n  font: var(--text-preset-3, var(--fallback-font));\n}\n.restart-btn {\n  background-color: var(--neutral-0, white);\n  color: var(--neutral-900, black);\n  font: var(--text-preset-3-semiBold, var(--fallback-font));\n  padding: 0.5em 0.8em;\n  border-radius: 12px;\n  border: none;\n\n  display: flex;\n  gap: 0.5em;\n  align-items: center;\n}","",{version:3,sources:["webpack://./src/results.custom.css"],names:[],mappings:"AAAA;EACE,8CAA8C;AAChD;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,6BAA6B;EAC7B,iCAAiC;EACjC,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,SAAS;EACT,gCAAgC;AAClC;AACA;EACE,0BAA0B;AAC5B;AACA;EACE,8BAA8B;AAChC;AACA;EACE;AACF;AACA;EACE,kBAAkB;EAClB;;8EAE4E;AAC9E;AACA;EACE,kBAAkB;AACpB;AACA;EACE,wDAAwD;AAC1D;AACA;EACE,sCAAsC;EACtC,uDAAuD;AACzD;AACA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,QAAQ;;EAER;IACE,mBAAmB;IACnB,WAAW;EACb;AACF;AACA;EACE,gDAAgD;AAClD;AACA;EACE,OAAO;;EAEP,2CAA2C;EAC3C,kBAAkB;;EAElB,kBAAkB;EAClB,aAAa;EACb,WAAW;AACb;AACA;EACE,gDAAgD;AAClD;AACA;EACE,yCAAyC;EACzC,gCAAgC;EAChC,yDAAyD;EACzD,oBAAoB;EACpB,mBAAmB;EACnB,YAAY;;EAEZ,aAAa;EACb,UAAU;EACV,mBAAmB;AACrB",sourcesContent:[":host {\r\n  --fallback-font: 400 1.25rem 'Sora', system-ui;\r\n}\r\n:host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: clamp(1.5rem, 4vw, 2rem);\r\n  padding-top: clamp(1em, 4vw, 2em);\r\n  max-width: 700px;\r\n  margin: 0 auto;\r\n}\r\np {\r\n  margin: 0;\r\n  color: var(--neutral-400, white);\r\n}\r\n.red-txt {\r\n  color: var(--red-500, red);\r\n}\r\n.green-txt {\r\n  color: var(--green-500, green);\r\n}\r\n.grey-txt {\r\n  color: var(--neutral-400, white)\r\n}\r\n.complete-icon {\r\n  border-radius: 50%;\r\n  box-shadow: \r\n    0 0 0 clamp(8px, 2vw, 16px) hsl(from var(--green-500, green) h s l / 0.2),\r\n    0 0 0 clamp(16px, 4vw, 32px) hsl(from var(--green-500, green) h s l / 0.1);\r\n}\r\n.text {\r\n  text-align: center;\r\n}\r\n.content {\r\n  font: var( --text-preset-3-mobile, var(--fallback-font));\r\n}\r\n.title {\r\n  margin-block: clamp(1rem, 3vw, 1.5rem);\r\n  font: var(--text-preset-1-mobile, var(--fallback-font));\r\n}\r\n.scores {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n\r\n  @media (min-width: 40em) {\r\n    flex-direction: row;\r\n    gap: 1.25em;\r\n  }\r\n}\r\n.score-value {\r\n  font: var(--text-preset-2, var(--fallback-font));\r\n}\r\n.score-item {\r\n  flex: 1;\r\n\r\n  border: var(--neutral-700, white) solid 1px;\r\n  border-radius: 8px;\r\n\r\n  padding: 1em 1.5em;\r\n  display: grid;\r\n  gap: 0.75em;\r\n}\r\n.score-label {\r\n  font: var(--text-preset-3, var(--fallback-font));\r\n}\r\n.restart-btn {\r\n  background-color: var(--neutral-0, white);\r\n  color: var(--neutral-900, black);\r\n  font: var(--text-preset-3-semiBold, var(--fallback-font));\r\n  padding: 0.5em 0.8em;\r\n  border-radius: 12px;\r\n  border: none;\r\n\r\n  display: flex;\r\n  gap: 0.5em;\r\n  align-items: center;\r\n}"],sourceRoot:""}]);const l=s},314(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(s[c]=!0)}for(var i=0;i<t.length;i++){var d=[].concat(t[i]);r&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},354(t){t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r=n(266);const a=new CSSStyleSheet;a.replaceSync(r.A.toString());class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[a],this.shadowRoot.innerHTML='\n      <slot name="icon"><img src="assets/images/icon-completed.svg" alt="" class="complete-icon"></slot>\n      <div class="text">\n        <h1 class="title"><slot name="title">Test Complete!</slot></h1>\n        <p class="content"><slot name="content">Solid run. Keep pushing to beat your high score.</slot></p>\n      </div>\n      <div class="scores">\n        <div class="score-item">\n          <p class="score-label">WPM:</p>\n          <span class="score-value"><slot name="wpm">0</slot></span>\n        </div>\n        <div class="score-item">\n          <p class="score-label">Accuracy</p>\n          <span class="score-value red-txt"><slot name="accuracy">0</slot></span>\n        </div>\n        <div class="score-item">\n          <p class="score-label">Characters</p>\n          <span class="score-value">\n            <span class="green-txt"><slot name="characters">0</slot></span><span class="grey-txt">/</span><span class="red-txt">5</span>\n          </span>\n        </div>\n      </div>\n      <button type="button" class="restart-btn">\n        <slot name="restart-btn-txt"><span>Go Again</span></slot>\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill="currentColor" d="M1.563 1.281h.949c.246 0 .422.211.422.457l-.07 3.446a8.6 8.6 0 0 1 7.277-3.868c4.816 0 8.718 3.938 8.718 8.72-.035 4.816-3.937 8.683-8.718 8.683a8.86 8.86 0 0 1-5.871-2.215.446.446 0 0 1 0-.633l.703-.703c.14-.14.386-.14.562 0 1.23 1.09 2.813 1.723 4.606 1.723A6.88 6.88 0 0 0 17.03 10c0-3.797-3.093-6.89-6.89-6.89-2.813 0-5.203 1.687-6.293 4.078l4.43-.106c.245 0 .456.176.456.422v.95c0 .245-.21.421-.421.421h-6.75a.406.406 0 0 1-.422-.422v-6.75c0-.21.175-.422.422-.422"/></svg>\n      </button>\n    '}connectedCallback(){const t=this.shadowRoot.querySelector("button");t.focus(),t.addEventListener("click",()=>{window.location.reload()})}}function s(t,e,n,r){if(t==e)return 0;const a=Math.abs(e-t)/60,o=(n-r)/5;return Math.round(o/a)}function l(t,e){let n=100;return t&&(n=100*(t-e)/t,n=n<100?n.toFixed(2):n),n}customElements.define("result-view",o);const c=document.querySelector("main"),i=document.querySelector(".personal-best-txt"),d=document.querySelector(".best-speed-value"),A=document.querySelectorAll(".setting-item"),u=document.querySelectorAll(".setting-btn"),p=document.querySelectorAll(".setting-btn-txt"),m=document.querySelectorAll(".setting-options"),g=document.querySelector(".starting-screen"),v=document.querySelector(".start-btn"),f=document.querySelector(".test-passage-txt"),h=document.querySelector(".test-passage-input"),C=document.querySelector(".restart-btn"),x=document.querySelector(".score-value-wpm"),b=document.querySelector(".score-value-accuracy"),E=document.querySelector(".score-value-time"),w={difficulty:"easy",mode:"timed"};let y,B,S,k=0,L=0,M=60,q=M,D=localStorage.bestWPM||0;function T(){x.textContent=s(M,q,L,k),function(){const t=l(L,k);b.textContent=t+"%"}(),function(){const t=Math.floor(q/60),e=q%60;E.textContent=`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}()}function W(){f.innerHTML="";for(let t in B){const e=document.createElement("span");e.id=String(t),e.classList.add("letter"),e.textContent=B[t],f.appendChild(e)}h.value="",h.dataset.prevValue=""}function P(){let t=y[w.difficulty];return t[Math.floor(Math.random()*t.length)].text}function I(){k=0,L=0,q=M,B=P(),T(),W(),h.focus()}function j(){"timed"===w.mode?q--:q++,T(),0===q&&$()}function $(){clearInterval(S),function(){c.classList.remove("main-test");const t=s(M,q,L,k),e=l(L,k),n=100==e?"green-txt":"red-txt";let r="";localStorage.bestWPM?t>D&&(r+='\n      <img src="assets/images/icon-new-pb.svg" alt="" slot="icon">\n      <span slot="title">High Score Smashed!</span>\n      <span slot="content">You\'re getting faster. That was incredible typing.</span>\n      <span slot="restart-btn-txt">Beat This Score</span>\n    '):r+='\n      <span slot="title">Baseline Established!</span>\n      <span slot="content">You\'ve set the bar. Now the real challenge beginsâ€”time to beat it.</span>\n    ',c.innerHTML=`\n    <result-view>\n      ${r}\n      <span slot="wpm">${t}</span>\n      <span slot="accuracy" class="${n}">${e}%</span>\n      <span slot="characters">${L}</span>\n    </result-view>\n  `}(),D=Math.max(D,s(M,q,L,k)),localStorage.bestWPM=D,d.textContent=D+"WPM"}(async function(){const t=await fetch("https://raw.githubusercontent.com/somaia02/typing-test/master/data.json");if(!t.ok)throw new Error(`HTTP error: ${t.status}`);return await t.json()})().then(t=>{y=t,B=P(),W()}).catch(t=>{console.error(`Could not get passages: ${t}`)}),window.matchMedia("(min-width: 40em)").matches&&(i.textContent="Personal best:"),d.textContent=D+"WPM",u.forEach((t,e)=>t.addEventListener("click",()=>function(t){m[t].classList.toggle("invisible")}(e))),m.forEach(t=>t.addEventListener("change",t=>function(t){w[t.target.name]=t.target.value,"mode"==t.target.name&&(M="timed"==t.target.value?60:0),function(){for(let t=0;t<A.length;t++)p[t].textContent=m[t].querySelector("input:checked").labels[0].textContent}(),I()}(t))),window.addEventListener("click",function(t){for(let e=0;e<A.length;e++){const n=A[e],r=m[e];n.contains(t.target)||r.classList.add("invisible")}}),v.focus(),g.addEventListener("click",function(){g.classList.add("invisible"),h.focus(),C.classList.add("restart-btn-shown"),b.classList.add("red-txt"),E.classList.add("yellow-txt"),S=setInterval(j,1e3)}),f.addEventListener("click",function(){h.focus()}),h.addEventListener("keydown",function(t){"ArrowLeft"===t.key&&t.preventDefault()}),h.addEventListener("input",function(t){const e=t.target.value,n=e.length;1===Math.abs(n-t.target.dataset.prevValue.length)?("deleteContentBackward"===t.inputType?function(t){const e=document.getElementById(t);e.classList.add("highlighted-letter"),e.classList.remove("green-txt"),e.classList.remove("red-txt"),e.classList.remove("underlined-txt");const n=document.getElementById(t+1);n&&n.classList.remove("highlighted-letter")}(n):"insertText"===t.inputType&&function(t,e){const n=document.getElementById(e-1);n.classList.remove("highlighted-letter"),t.at(-1)===n.textContent?n.classList.add("green-txt"):(n.classList.add("red-txt"),n.classList.add("underlined-txt"),k++),L++;const r=document.getElementById(e);r&&r.classList.add("highlighted-letter")}(e,n),t.target.dataset.prevValue=e,n!==B.length?function(t){const e=document.getElementById(t).offsetTop-.5*f.offsetHeight;f.scroll({top:e,left:0,behavior:"smooth"})}(n):$()):t.target.value=t.target.dataset.prevValue}),C.addEventListener("click",I)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoicUZBR0lBLEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksOG9EQStFckMsR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLENBQUMsc0NBQXNDLE1BQVEsR0FBRyxTQUFXLDJwQkFBMnBCLGVBQWlCLENBQUMsNnlEQUE2eUQsV0FBYSxNQUVsa0YsUyxTQ2hGQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBNEVYLE9BekVBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsSUFBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVLEdBQ1ZDLE9BQStCLElBQVpGLEVBQUssR0FvQjVCLE9BbkJJQSxFQUFLLEtBQ1BDLEdBQVcsY0FBY0UsT0FBT0gsRUFBSyxHQUFJLFFBRXZDQSxFQUFLLEtBQ1BDLEdBQVcsVUFBVUUsT0FBT0gsRUFBSyxHQUFJLE9BRW5DRSxJQUNGRCxHQUFXLFNBQVNFLE9BQU9ILEVBQUssR0FBR0ksT0FBUyxFQUFJLElBQUlELE9BQU9ILEVBQUssSUFBTSxHQUFJLE9BRTVFQyxHQUFXTixFQUF1QkssR0FDOUJFLElBQ0ZELEdBQVcsS0FFVEQsRUFBSyxLQUNQQyxHQUFXLEtBRVRELEVBQUssS0FDUEMsR0FBVyxLQUVOQSxDQUNULEdBQUdJLEtBQUssR0FDVixFQUdBVCxFQUFLVSxFQUFJLFNBQVdDLEVBQVNDLEVBQU9DLEVBQVFDLEVBQVVDLEdBQzdCLGlCQUFaSixJQUNUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxPQUFTSyxLQUU3QixJQUFJQyxFQUF5QixDQUFDLEVBQzlCLEdBQUlKLEVBQ0YsSUFBSyxJQUFJSyxFQUFJLEVBQUdBLEVBQUloQixLQUFLTSxPQUFRVSxJQUFLLENBQ3BDLElBQUlyQixFQUFLSyxLQUFLZ0IsR0FBRyxHQUNQLE1BQU5yQixJQUNGb0IsRUFBdUJwQixJQUFNLEVBRWpDLENBRUYsSUFBSyxJQUFJc0IsRUFBSyxFQUFHQSxFQUFLUixFQUFRSCxPQUFRVyxJQUFNLENBQzFDLElBQUlmLEVBQU8sR0FBR0csT0FBT0ksRUFBUVEsSUFDekJOLEdBQVVJLEVBQXVCYixFQUFLLFdBR3JCLElBQVZXLFNBQ2MsSUFBWlgsRUFBSyxLQUdkQSxFQUFLLEdBQUssU0FBU0csT0FBT0gsRUFBSyxHQUFHSSxPQUFTLEVBQUksSUFBSUQsT0FBT0gsRUFBSyxJQUFNLEdBQUksTUFBTUcsT0FBT0gsRUFBSyxHQUFJLE1BRi9GQSxFQUFLLEdBQUtXLEdBTVZILElBQ0dSLEVBQUssSUFHUkEsRUFBSyxHQUFLLFVBQVVHLE9BQU9ILEVBQUssR0FBSSxNQUFNRyxPQUFPSCxFQUFLLEdBQUksS0FDMURBLEVBQUssR0FBS1EsR0FIVlIsRUFBSyxHQUFLUSxHQU1WRSxJQUNHVixFQUFLLElBR1JBLEVBQUssR0FBSyxjQUFjRyxPQUFPSCxFQUFLLEdBQUksT0FBT0csT0FBT0gsRUFBSyxHQUFJLEtBQy9EQSxFQUFLLEdBQUtVLEdBSFZWLEVBQUssR0FBSyxHQUFHRyxPQUFPTyxJQU14QmQsRUFBS0wsS0FBS1MsR0FDWixDQUNGLEVBQ09KLENBQ1QsQyxTQ2xGQUosRUFBT0UsUUFBVSxTQUFVTSxHQUN6QixJQUFJQyxFQUFVRCxFQUFLLEdBQ2ZnQixFQUFhaEIsRUFBSyxHQUN0QixJQUFLZ0IsRUFDSCxPQUFPZixFQUVULEdBQW9CLG1CQUFUZ0IsS0FBcUIsQ0FDOUIsSUFBSUMsRUFBU0QsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVTixNQUN6RE8sRUFBTywrREFBK0RwQixPQUFPZSxHQUM3RU0sRUFBZ0IsT0FBT3JCLE9BQU9vQixFQUFNLE9BQ3hDLE1BQU8sQ0FBQ3RCLEdBQVNFLE9BQU8sQ0FBQ3FCLElBQWdCbkIsS0FBSyxLQUNoRCxDQUNBLE1BQU8sQ0FBQ0osR0FBU0ksS0FBSyxLQUN4QixDLEdDZElvQixFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJmLElBQWpCZ0IsRUFDSCxPQUFPQSxFQUFhbEMsUUFHckIsSUFBSUYsRUFBU2lDLEVBQXlCRSxHQUFZLENBQ2pEbEMsR0FBSWtDLEVBRUpqQyxRQUFTLENBQUMsR0FPWCxPQUhBbUMsRUFBb0JGLEdBQVVuQyxFQUFRQSxFQUFPRSxRQUFTZ0MsR0FHL0NsQyxFQUFPRSxPQUNmLENDckJBZ0MsRUFBb0JJLEVBQUt0QyxJQUN4QixJQUFJdUMsRUFBU3ZDLEdBQVVBLEVBQU93QyxXQUM3QixJQUFPeEMsRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREFrQyxFQUFvQk8sRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkwsRUFBb0JPLEVBQUksQ0FBQ3ZDLEVBQVN5QyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hULEVBQW9CVyxFQUFFRixFQUFZQyxLQUFTVixFQUFvQlcsRUFBRTNDLEVBQVMwQyxJQUM1RUUsT0FBT0MsZUFBZTdDLEVBQVMwQyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VWLEVBQW9CVyxFQUFJLENBQUNLLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEcsYUNFbEYsTUFBTUksRUFBUSxJQUFJQyxjQUNsQkQsRUFBTUUsWUFBWSxJQUFNcEQsWUFFeEIsTUFBTXFELFVBQW1CQyxZQUN2QixXQUFBQyxHQUNFQyxRQUNBdkQsS0FBS3dELGFBQWEsQ0FBQ0MsS0FBTyxTQUMxQnpELEtBQUswRCxXQUFXQyxtQkFBcUIsQ0FBQ1YsR0FDdENqRCxLQUFLMEQsV0FBV0UsVUFBWSx3dURBMkI5QixDQUVBLGlCQUFBQyxHQUNFLE1BQU1DLEVBQWE5RCxLQUFLMEQsV0FBV0ssY0FBYyxVQUNqREQsRUFBV0UsUUFDWEYsRUFBV0csaUJBQWlCLFFBQVMsS0FDbkNDLE9BQU9DLFNBQVNDLFVBRXBCLEVDN0NLLFNBQVNDLEVBQ2RDLEVBQWNDLEVBQWFDLEVBQW1CQyxHQUU5QyxHQUFJSCxHQUFnQkMsRUFBYSxPQUFPLEVBQ3hDLE1BQU1HLEVBQWlCQyxLQUFLQyxJQUFJTCxFQUFjRCxHQUFnQixHQUN4RE8sR0FBYUwsRUFBb0JDLEdBQWMsRUFDckQsT0FBT0UsS0FBS0csTUFBTUQsRUFBWUgsRUFDaEMsQ0FDTyxTQUFTSyxFQUFnQlAsRUFBbUJDLEdBQ2pELElBQUlPLEVBQU0sSUFLVixPQUpJUixJQUNGUSxFQUEwQyxLQUFsQ1IsRUFBb0JDLEdBQXFCRCxFQUNqRFEsRUFBT0EsRUFBTSxJQUFNQSxFQUFJQyxRQUFRLEdBQUtELEdBRS9CQSxDQUNULENEaUNBRSxlQUFlQyxPQUFPLGNBQWUvQixHRTNDckMsTUFBTWdDLEVBQVFDLFNBQVN0QixjQUFjLFFBQy9CdUIsRUFBbUJELFNBQVN0QixjQUFjLHNCQUMxQ3dCLEVBQWtCRixTQUFTdEIsY0FBYyxxQkFDekN5QixFQUFnQkgsU0FBU0ksaUJBQWlCLGlCQUMxQ0MsRUFBZUwsU0FBU0ksaUJBQWlCLGdCQUN6Q0UsRUFBbUJOLFNBQVNJLGlCQUFpQixvQkFDN0NHLEVBQWtCUCxTQUFTSSxpQkFBaUIsb0JBQzVDSSxFQUFrQlIsU0FBU3RCLGNBQWMsb0JBQ3pDK0IsRUFBWVQsU0FBU3RCLGNBQWMsY0FDbkNnQyxFQUFjVixTQUFTdEIsY0FBYyxxQkFDckNpQyxFQUFnQlgsU0FBU3RCLGNBQWMsdUJBQ3ZDa0MsRUFBY1osU0FBU3RCLGNBQWMsZ0JBQ3JDbUMsRUFBWWIsU0FBU3RCLGNBQWMsb0JBQ25Db0MsRUFBaUJkLFNBQVN0QixjQUFjLHlCQUN4Q3FDLEVBQWFmLFNBQVN0QixjQUFjLHFCQUdwQ3NDLEVBQVcsQ0FDZixXQUFjLE9BQ2QsS0FBUSxTQUVWLElBS0lDLEVBQ0FDLEVBRUFDLEVBUkEvQixFQUFhLEVBQ2JELEVBQW9CLEVBQ3BCRixFQUFlLEdBQ2ZDLEVBQWNELEVBQ2RtQyxFQUFVQyxhQUFhRCxTQUFXLEVBc0J0QyxTQUFTRSxJQVhQVCxFQUFVVSxZQUFjdkMsRUFBV0MsRUFBY0MsRUFBYUMsRUFBbUJDLEdBRW5GLFdBQ0UsTUFBTU8sRUFBTUQsRUFBZ0JQLEVBQW1CQyxHQUMvQzBCLEVBQWVTLFlBQWM1QixFQUFNLEdBQ3JDLENBUUU2QixHQVBGLFdBQ0UsTUFBTUMsRUFBVW5DLEtBQUtvQyxNQUFNeEMsRUFBYyxJQUNuQ3lDLEVBQVV6QyxFQUFjLEdBQzlCNkIsRUFBV1EsWUFBYyxHQUFHRSxFQUFRL0csV0FBV2tILFNBQVMsRUFBRyxRQUFRRCxFQUFRakgsV0FBV2tILFNBQVMsRUFBRyxNQUNwRyxDQUlFQyxFQUNGLENBTUEsU0FBU0MsSUFDUHBCLEVBQVluQyxVQUFZLEdBQ3hCLElBQUssSUFBSXBELEtBQUsrRixFQUFhLENBQ3pCLE1BQU1hLEVBQVMvQixTQUFTZ0MsY0FBYyxRQUN0Q0QsRUFBT3pILEdBQUsySCxPQUFPOUcsR0FDbkI0RyxFQUFPRyxVQUFVQyxJQUFJLFVBQ3JCSixFQUFPUixZQUFjTCxFQUFZL0YsR0FDakN1RixFQUFZMEIsWUFBWUwsRUFDMUIsQ0FDQXBCLEVBQWMwQixNQUFRLEdBQ3RCMUIsRUFBYzJCLFFBQVFDLFVBQVksRUFDcEMsQ0E2SEEsU0FBU0MsSUFDUCxJQUFJQyxFQUFXeEIsRUFBWUQsRUFBUzBCLFlBQ3BDLE9BQU9ELEVBQVNuRCxLQUFLb0MsTUFBTXBDLEtBQUtxRCxTQUFXRixFQUFTeEgsU0FBUzJILElBQy9ELENBQ0EsU0FBU0MsSUFDUHpELEVBQWEsRUFDYkQsRUFBb0IsRUFDcEJELEVBQWNELEVBQ2RpQyxFQUFjc0IsSUFDZGxCLElBQ0FRLElBQ0FuQixFQUFjaEMsT0FDaEIsQ0FnQkEsU0FBU21FLElBQ2UsVUFBbEI5QixFQUFTNUMsS0FDWGMsSUFFQUEsSUFFRm9DLElBQ29CLElBQWhCcEMsR0FDRjZELEdBRUosQ0FHQSxTQUFTQSxJQUNQQyxjQUFjN0IsR0F0S2hCLFdBQ0VwQixFQUFNbUMsVUFBVWUsT0FBTyxhQUN2QixNQUFNQyxFQUFNbEUsRUFBV0MsRUFBY0MsRUFBYUMsRUFBbUJDLEdBQy9ETyxFQUFNRCxFQUFnQlAsRUFBbUJDLEdBQ3pDK0QsRUFBbUIsS0FBUHhELEVBQWEsWUFBYyxVQUM3QyxJQUFJeUQsRUFBWSxHQUVYL0IsYUFBYUQsUUFLUDhCLEVBQU05QixJQUNmZ0MsR0FBYSxxUkFMYkEsR0FBYSx1S0FZZnJELEVBQU14QixVQUFZLDhCQUVaNkUsNkJBQ2lCRixnREFDWUMsTUFBY3hELDRDQUNuQlIsa0NBR2hDLENBMklFa0UsR0FDQWpDLEVBQVU5QixLQUFLZ0UsSUFBSWxDLEVBQVNwQyxFQUFXQyxFQUFjQyxFQUFhQyxFQUFtQkMsSUFDckZpQyxhQUFhRCxRQUFVQSxFQTdNdkJsQixFQUFnQnFCLFlBQWNILEVBQVUsS0ErTTFDLEVDcFBPbUMsaUJBQ0wsTUFBTUMsUUFBaUJDLE1BQU0sMkVBQzdCLElBQUtELEVBQVNFLEdBQ1osTUFBTSxJQUFJQyxNQUFNLGVBQWVILEVBQVNJLFVBRzFDLGFBRDBCSixFQUFTSyxNQUVyQyxFRHVQQUMsR0FBbUJDLEtBQU0zSCxJQUN2QjZFLEVBQWM3RSxFQUNkOEUsRUFBY3NCLElBQ2RWLE1BRURrQyxNQUFRQyxJQUNQQyxRQUFRRCxNQUFNLDJCQUEyQkEsT0FHdkJwRixPQUFPc0YsV0FBVyxxQkFBcUJDLFVBWnpEbkUsRUFBaUJzQixZQUFjLGtCQWlCakNyQixFQUFnQnFCLFlBQWNILEVBQVUsTUFDeENmLEVBQWFnRSxRQUFRLENBQUNDLEVBQUtuSixJQUFNbUosRUFBSTFGLGlCQUFpQixRQUFTLElBNUovRCxTQUF1QnpELEdBQ3JCb0YsRUFBZ0JwRixHQUFHK0csVUFBVXFDLE9BQU8sWUFDdEMsQ0EwSnFFQyxDQUFjckosS0FDbkZvRixFQUFnQjhELFFBQVNJLEdBQVlBLEVBQVE3RixpQkFBaUIsU0FBVzhGLEdBMUp6RSxTQUF1QkEsR0FDckIxRCxFQUFTMEQsRUFBRUMsT0FBT0MsTUFBUUYsRUFBRUMsT0FBT3RDLE1BQ2QsUUFBakJxQyxFQUFFQyxPQUFPQyxPQUNYM0YsRUFBaUMsU0FBbEJ5RixFQUFFQyxPQUFPdEMsTUFBbUIsR0FBSyxHQS9EcEQsV0FDRSxJQUFLLElBQUlsSCxFQUFJLEVBQUdBLEVBQUlnRixFQUFjbEYsT0FBUUUsSUFDeENtRixFQUFpQm5GLEdBQUdvRyxZQUFjaEIsRUFBZ0JwRixHQUFHdUQsY0FBYyxpQkFBaUJtRyxPQUFPLEdBQUd0RCxXQUVsRyxDQTZERXVELEdBQ0FqQyxHQUNGLENBbUorRWtDLENBQWNMLEtBQzdGN0YsT0FBT0QsaUJBQWlCLFFBdkt4QixTQUF1Qm9HLEdBQ3JCLElBQUssSUFBSTdKLEVBQUksRUFBR0EsRUFBSWdGLEVBQWNsRixPQUFRRSxJQUFLLENBQzdDLE1BQU04SixFQUFZOUUsRUFBY2hGLEdBQzFCK0osRUFBVzNFLEVBQWdCcEYsR0FDNUI4SixFQUFVRSxTQUFTSCxFQUFNTCxTQUM1Qk8sRUFBU2hELFVBQVVDLElBQUksWUFFM0IsQ0FDRixHQWdLQTFCLEVBQVU5QixRQUNWNkIsRUFBZ0I1QixpQkFBaUIsUUEvRGpDLFdBRUU0QixFQUFnQjBCLFVBQVVDLElBQUksYUFDOUJ4QixFQUFjaEMsUUFDZGlDLEVBQVlzQixVQUFVQyxJQUFJLHFCQUcxQnJCLEVBQWVvQixVQUFVQyxJQUFJLFdBQzdCcEIsRUFBV21CLFVBQVVDLElBQUksY0FHekJoQixFQUFzQmlFLFlBQVl0QyxFQUFjLElBQ2xELEdBb0RBcEMsRUFBWTlCLGlCQUFpQixRQTNCN0IsV0FDRStCLEVBQWNoQyxPQUNoQixHQTBCQWdDLEVBQWMvQixpQkFBaUIsVUFySi9CLFNBQTZCOEYsR0FDYixjQUFWQSxFQUFFekgsS0FDSnlILEVBQUVXLGdCQUVOLEdBa0pBMUUsRUFBYy9CLGlCQUFpQixRQWpKL0IsU0FBNEI4RixHQUMxQixNQUFNWSxFQUFlWixFQUFFQyxPQUFPdEMsTUFDeEJwSCxFQUFTcUssRUFBYXJLLE9BR2lDLElBQXpEcUUsS0FBS0MsSUFBSXRFLEVBQVN5SixFQUFFQyxPQUFPckMsUUFBUUMsVUFBVXRILFNBSzdCLDBCQUFoQnlKLEVBQUVhLFVBaUNSLFNBQXNCdEssR0FDcEIsTUFBTThHLEVBQVMvQixTQUFTd0YsZUFBZXZLLEdBQ3ZDOEcsRUFBT0csVUFBVUMsSUFBSSxzQkFDckJKLEVBQU9HLFVBQVVlLE9BQU8sYUFDeEJsQixFQUFPRyxVQUFVZSxPQUFPLFdBQ3hCbEIsRUFBT0csVUFBVWUsT0FBTyxrQkFFeEIsTUFBTXdDLEVBQVl6RixTQUFTd0YsZUFBZXZLLEVBQVMsR0FDL0N3SyxHQUNGQSxFQUFVdkQsVUFBVWUsT0FBTyxxQkFFL0IsQ0EzQ0l5QyxDQUFhekssR0FDWSxlQUFoQnlKLEVBQUVhLFdBY2YsU0FBc0JELEVBQWNySyxHQUNsQyxNQUFNOEcsRUFBUy9CLFNBQVN3RixlQUFldkssRUFBUyxHQUNoRDhHLEVBQU9HLFVBQVVlLE9BQU8sc0JBQ3BCcUMsRUFBYUssSUFBSSxLQUFPNUQsRUFBT1IsWUFDakNRLEVBQU9HLFVBQVVDLElBQUksY0FFckJKLEVBQU9HLFVBQVVDLElBQUksV0FDckJKLEVBQU9HLFVBQVVDLElBQUksa0JBQ3JCL0MsS0FFRkQsSUFFQSxNQUFNc0csRUFBWXpGLFNBQVN3RixlQUFldkssR0FDdEN3SyxHQUNGQSxFQUFVdkQsVUFBVUMsSUFBSSxxQkFFNUIsQ0E3Qkl5RCxDQUFhTixFQUFjckssR0FHN0J5SixFQUFFQyxPQUFPckMsUUFBUUMsVUFBWStDLEVBRXpCckssSUFBV2lHLEVBQVlqRyxPQXFDN0IsU0FBb0JBLEdBQ2xCLE1BQ000SyxFQURTN0YsU0FBU3dGLGVBQWV2SyxHQUNaNkssVUFBWSxHQUFNcEYsRUFBWXFGLGFBQ3pEckYsRUFBWXNGLE9BQU8sQ0FDakJDLElBQUtKLEVBQ0xLLEtBQU0sRUFDTkMsU0FBVSxVQUVkLENBeENFQyxDQUFXbkwsR0FKVDhILEtBYkEyQixFQUFFQyxPQUFPdEMsTUFBUXFDLEVBQUVDLE9BQU9yQyxRQUFRQyxTQWtCdEMsR0EwSEEzQixFQUFZaEMsaUJBQWlCLFFBQVNpRSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc3VsdHMuY3VzdG9tLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vLi9zcmMvcmVzdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NvcmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgOmhvc3Qge1xyXG4gIC0tZmFsbGJhY2stZm9udDogNDAwIDEuMjVyZW0gJ1NvcmEnLCBzeXN0ZW0tdWk7XHJcbn1cclxuOmhvc3Qge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogY2xhbXAoMS41cmVtLCA0dncsIDJyZW0pO1xyXG4gIHBhZGRpbmctdG9wOiBjbGFtcCgxZW0sIDR2dywgMmVtKTtcclxuICBtYXgtd2lkdGg6IDcwMHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcbnAge1xyXG4gIG1hcmdpbjogMDtcclxuICBjb2xvcjogdmFyKC0tbmV1dHJhbC00MDAsIHdoaXRlKTtcclxufVxyXG4ucmVkLXR4dCB7XHJcbiAgY29sb3I6IHZhcigtLXJlZC01MDAsIHJlZCk7XHJcbn1cclxuLmdyZWVuLXR4dCB7XHJcbiAgY29sb3I6IHZhcigtLWdyZWVuLTUwMCwgZ3JlZW4pO1xyXG59XHJcbi5ncmV5LXR4dCB7XHJcbiAgY29sb3I6IHZhcigtLW5ldXRyYWwtNDAwLCB3aGl0ZSlcclxufVxyXG4uY29tcGxldGUtaWNvbiB7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGJveC1zaGFkb3c6IFxyXG4gICAgMCAwIDAgY2xhbXAoOHB4LCAydncsIDE2cHgpIGhzbChmcm9tIHZhcigtLWdyZWVuLTUwMCwgZ3JlZW4pIGggcyBsIC8gMC4yKSxcclxuICAgIDAgMCAwIGNsYW1wKDE2cHgsIDR2dywgMzJweCkgaHNsKGZyb20gdmFyKC0tZ3JlZW4tNTAwLCBncmVlbikgaCBzIGwgLyAwLjEpO1xyXG59XHJcbi50ZXh0IHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuLmNvbnRlbnQge1xyXG4gIGZvbnQ6IHZhciggLS10ZXh0LXByZXNldC0zLW1vYmlsZSwgdmFyKC0tZmFsbGJhY2stZm9udCkpO1xyXG59XHJcbi50aXRsZSB7XHJcbiAgbWFyZ2luLWJsb2NrOiBjbGFtcCgxcmVtLCAzdncsIDEuNXJlbSk7XHJcbiAgZm9udDogdmFyKC0tdGV4dC1wcmVzZXQtMS1tb2JpbGUsIHZhcigtLWZhbGxiYWNrLWZvbnQpKTtcclxufVxyXG4uc2NvcmVzIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgZ2FwOiAxZW07XHJcblxyXG4gIEBtZWRpYSAobWluLXdpZHRoOiA0MGVtKSB7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgZ2FwOiAxLjI1ZW07XHJcbiAgfVxyXG59XHJcbi5zY29yZS12YWx1ZSB7XHJcbiAgZm9udDogdmFyKC0tdGV4dC1wcmVzZXQtMiwgdmFyKC0tZmFsbGJhY2stZm9udCkpO1xyXG59XHJcbi5zY29yZS1pdGVtIHtcclxuICBmbGV4OiAxO1xyXG5cclxuICBib3JkZXI6IHZhcigtLW5ldXRyYWwtNzAwLCB3aGl0ZSkgc29saWQgMXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuXHJcbiAgcGFkZGluZzogMWVtIDEuNWVtO1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ2FwOiAwLjc1ZW07XHJcbn1cclxuLnNjb3JlLWxhYmVsIHtcclxuICBmb250OiB2YXIoLS10ZXh0LXByZXNldC0zLCB2YXIoLS1mYWxsYmFjay1mb250KSk7XHJcbn1cclxuLnJlc3RhcnQtYnRuIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uZXV0cmFsLTAsIHdoaXRlKTtcclxuICBjb2xvcjogdmFyKC0tbmV1dHJhbC05MDAsIGJsYWNrKTtcclxuICBmb250OiB2YXIoLS10ZXh0LXByZXNldC0zLXNlbWlCb2xkLCB2YXIoLS1mYWxsYmFjay1mb250KSk7XHJcbiAgcGFkZGluZzogMC41ZW0gMC44ZW07XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBib3JkZXI6IG5vbmU7XHJcblxyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiAwLjVlbTtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvcmVzdWx0cy5jdXN0b20uY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsOENBQThDO0FBQ2hEO0FBQ0E7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQiw2QkFBNkI7RUFDN0IsaUNBQWlDO0VBQ2pDLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxTQUFTO0VBQ1QsZ0NBQWdDO0FBQ2xDO0FBQ0E7RUFDRSwwQkFBMEI7QUFDNUI7QUFDQTtFQUNFLDhCQUE4QjtBQUNoQztBQUNBO0VBQ0U7QUFDRjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCOzs4RUFFNEU7QUFDOUU7QUFDQTtFQUNFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usd0RBQXdEO0FBQzFEO0FBQ0E7RUFDRSxzQ0FBc0M7RUFDdEMsdURBQXVEO0FBQ3pEO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixRQUFROztFQUVSO0lBQ0UsbUJBQW1CO0lBQ25CLFdBQVc7RUFDYjtBQUNGO0FBQ0E7RUFDRSxnREFBZ0Q7QUFDbEQ7QUFDQTtFQUNFLE9BQU87O0VBRVAsMkNBQTJDO0VBQzNDLGtCQUFrQjs7RUFFbEIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixXQUFXO0FBQ2I7QUFDQTtFQUNFLGdEQUFnRDtBQUNsRDtBQUNBO0VBQ0UseUNBQXlDO0VBQ3pDLGdDQUFnQztFQUNoQyx5REFBeUQ7RUFDekQsb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixZQUFZOztFQUVaLGFBQWE7RUFDYixVQUFVO0VBQ1YsbUJBQW1CO0FBQ3JCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpob3N0IHtcXHJcXG4gIC0tZmFsbGJhY2stZm9udDogNDAwIDEuMjVyZW0gJ1NvcmEnLCBzeXN0ZW0tdWk7XFxyXFxufVxcclxcbjpob3N0IHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIGdhcDogY2xhbXAoMS41cmVtLCA0dncsIDJyZW0pO1xcclxcbiAgcGFkZGluZy10b3A6IGNsYW1wKDFlbSwgNHZ3LCAyZW0pO1xcclxcbiAgbWF4LXdpZHRoOiA3MDBweDtcXHJcXG4gIG1hcmdpbjogMCBhdXRvO1xcclxcbn1cXHJcXG5wIHtcXHJcXG4gIG1hcmdpbjogMDtcXHJcXG4gIGNvbG9yOiB2YXIoLS1uZXV0cmFsLTQwMCwgd2hpdGUpO1xcclxcbn1cXHJcXG4ucmVkLXR4dCB7XFxyXFxuICBjb2xvcjogdmFyKC0tcmVkLTUwMCwgcmVkKTtcXHJcXG59XFxyXFxuLmdyZWVuLXR4dCB7XFxyXFxuICBjb2xvcjogdmFyKC0tZ3JlZW4tNTAwLCBncmVlbik7XFxyXFxufVxcclxcbi5ncmV5LXR4dCB7XFxyXFxuICBjb2xvcjogdmFyKC0tbmV1dHJhbC00MDAsIHdoaXRlKVxcclxcbn1cXHJcXG4uY29tcGxldGUtaWNvbiB7XFxyXFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxyXFxuICBib3gtc2hhZG93OiBcXHJcXG4gICAgMCAwIDAgY2xhbXAoOHB4LCAydncsIDE2cHgpIGhzbChmcm9tIHZhcigtLWdyZWVuLTUwMCwgZ3JlZW4pIGggcyBsIC8gMC4yKSxcXHJcXG4gICAgMCAwIDAgY2xhbXAoMTZweCwgNHZ3LCAzMnB4KSBoc2woZnJvbSB2YXIoLS1ncmVlbi01MDAsIGdyZWVuKSBoIHMgbCAvIDAuMSk7XFxyXFxufVxcclxcbi50ZXh0IHtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuLmNvbnRlbnQge1xcclxcbiAgZm9udDogdmFyKCAtLXRleHQtcHJlc2V0LTMtbW9iaWxlLCB2YXIoLS1mYWxsYmFjay1mb250KSk7XFxyXFxufVxcclxcbi50aXRsZSB7XFxyXFxuICBtYXJnaW4tYmxvY2s6IGNsYW1wKDFyZW0sIDN2dywgMS41cmVtKTtcXHJcXG4gIGZvbnQ6IHZhcigtLXRleHQtcHJlc2V0LTEtbW9iaWxlLCB2YXIoLS1mYWxsYmFjay1mb250KSk7XFxyXFxufVxcclxcbi5zY29yZXMge1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gIGdhcDogMWVtO1xcclxcblxcclxcbiAgQG1lZGlhIChtaW4td2lkdGg6IDQwZW0pIHtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgZ2FwOiAxLjI1ZW07XFxyXFxuICB9XFxyXFxufVxcclxcbi5zY29yZS12YWx1ZSB7XFxyXFxuICBmb250OiB2YXIoLS10ZXh0LXByZXNldC0yLCB2YXIoLS1mYWxsYmFjay1mb250KSk7XFxyXFxufVxcclxcbi5zY29yZS1pdGVtIHtcXHJcXG4gIGZsZXg6IDE7XFxyXFxuXFxyXFxuICBib3JkZXI6IHZhcigtLW5ldXRyYWwtNzAwLCB3aGl0ZSkgc29saWQgMXB4O1xcclxcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcclxcblxcclxcbiAgcGFkZGluZzogMWVtIDEuNWVtO1xcclxcbiAgZGlzcGxheTogZ3JpZDtcXHJcXG4gIGdhcDogMC43NWVtO1xcclxcbn1cXHJcXG4uc2NvcmUtbGFiZWwge1xcclxcbiAgZm9udDogdmFyKC0tdGV4dC1wcmVzZXQtMywgdmFyKC0tZmFsbGJhY2stZm9udCkpO1xcclxcbn1cXHJcXG4ucmVzdGFydC1idG4ge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbmV1dHJhbC0wLCB3aGl0ZSk7XFxyXFxuICBjb2xvcjogdmFyKC0tbmV1dHJhbC05MDAsIGJsYWNrKTtcXHJcXG4gIGZvbnQ6IHZhcigtLXRleHQtcHJlc2V0LTMtc2VtaUJvbGQsIHZhcigtLWZhbGxiYWNrLWZvbnQpKTtcXHJcXG4gIHBhZGRpbmc6IDAuNWVtIDAuOGVtO1xcclxcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcXHJcXG4gIGJvcmRlcjogbm9uZTtcXHJcXG5cXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBnYXA6IDAuNWVtO1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vcmVzdWx0cy5jdXN0b20uY3NzJ1xyXG5cclxuY29uc3Qgc2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpO1xyXG5zaGVldC5yZXBsYWNlU3luYyhzdHlsZS50b1N0cmluZygpKTtcclxuXHJcbmNsYXNzIFJlc3VsdFZpZXcgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5hdHRhY2hTaGFkb3coe21vZGUgOiAnb3Blbid9KTtcclxuICAgIHRoaXMuc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbc2hlZXRdO1xyXG4gICAgdGhpcy5zaGFkb3dSb290LmlubmVySFRNTCA9IGBcclxuICAgICAgPHNsb3QgbmFtZT1cImljb25cIj48aW1nIHNyYz1cImFzc2V0cy9pbWFnZXMvaWNvbi1jb21wbGV0ZWQuc3ZnXCIgYWx0PVwiXCIgY2xhc3M9XCJjb21wbGV0ZS1pY29uXCI+PC9zbG90PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidGV4dFwiPlxyXG4gICAgICAgIDxoMSBjbGFzcz1cInRpdGxlXCI+PHNsb3QgbmFtZT1cInRpdGxlXCI+VGVzdCBDb21wbGV0ZSE8L3Nsb3Q+PC9oMT5cclxuICAgICAgICA8cCBjbGFzcz1cImNvbnRlbnRcIj48c2xvdCBuYW1lPVwiY29udGVudFwiPlNvbGlkIHJ1bi4gS2VlcCBwdXNoaW5nIHRvIGJlYXQgeW91ciBoaWdoIHNjb3JlLjwvc2xvdD48L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwic2NvcmVzXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNjb3JlLWl0ZW1cIj5cclxuICAgICAgICAgIDxwIGNsYXNzPVwic2NvcmUtbGFiZWxcIj5XUE06PC9wPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzY29yZS12YWx1ZVwiPjxzbG90IG5hbWU9XCJ3cG1cIj4wPC9zbG90Pjwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2NvcmUtaXRlbVwiPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJzY29yZS1sYWJlbFwiPkFjY3VyYWN5PC9wPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzY29yZS12YWx1ZSByZWQtdHh0XCI+PHNsb3QgbmFtZT1cImFjY3VyYWN5XCI+MDwvc2xvdD48L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNjb3JlLWl0ZW1cIj5cclxuICAgICAgICAgIDxwIGNsYXNzPVwic2NvcmUtbGFiZWxcIj5DaGFyYWN0ZXJzPC9wPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzY29yZS12YWx1ZVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdyZWVuLXR4dFwiPjxzbG90IG5hbWU9XCJjaGFyYWN0ZXJzXCI+MDwvc2xvdD48L3NwYW4+PHNwYW4gY2xhc3M9XCJncmV5LXR4dFwiPi88L3NwYW4+PHNwYW4gY2xhc3M9XCJyZWQtdHh0XCI+NTwvc3Bhbj5cclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicmVzdGFydC1idG5cIj5cclxuICAgICAgICA8c2xvdCBuYW1lPVwicmVzdGFydC1idG4tdHh0XCI+PHNwYW4+R28gQWdhaW48L3NwYW4+PC9zbG90PlxyXG4gICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMS41NjMgMS4yODFoLjk0OWMuMjQ2IDAgLjQyMi4yMTEuNDIyLjQ1N2wtLjA3IDMuNDQ2YTguNiA4LjYgMCAwIDEgNy4yNzctMy44NjhjNC44MTYgMCA4LjcxOCAzLjkzOCA4LjcxOCA4LjcyLS4wMzUgNC44MTYtMy45MzcgOC42ODMtOC43MTggOC42ODNhOC44NiA4Ljg2IDAgMCAxLTUuODcxLTIuMjE1LjQ0Ni40NDYgMCAwIDEgMC0uNjMzbC43MDMtLjcwM2MuMTQtLjE0LjM4Ni0uMTQuNTYyIDAgMS4yMyAxLjA5IDIuODEzIDEuNzIzIDQuNjA2IDEuNzIzQTYuODggNi44OCAwIDAgMCAxNy4wMyAxMGMwLTMuNzk3LTMuMDkzLTYuODktNi44OS02Ljg5LTIuODEzIDAtNS4yMDMgMS42ODctNi4yOTMgNC4wNzhsNC40My0uMTA2Yy4yNDUgMCAuNDU2LjE3Ni40NTYuNDIydi45NWMwIC4yNDUtLjIxLjQyMS0uNDIxLjQyMWgtNi43NWEuNDA2LjQwNiAwIDAgMS0uNDIyLS40MjJ2LTYuNzVjMC0uMjEuMTc1LS40MjIuNDIyLS40MjJcIi8+PC9zdmc+XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgY29uc3QgcmVzdGFydEJ0biA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpO1xyXG4gICAgcmVzdGFydEJ0bi5mb2N1cygpO1xyXG4gICAgcmVzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInJlc3VsdC12aWV3XCIsIFJlc3VsdFZpZXcpOyIsImV4cG9ydCBmdW5jdGlvbiBjb21wdXRlV1BNKFxyXG4gIHN0YXJ0aW5nVGltZSwgY3VycmVudFRpbWUsIHRvdGFsVHlwZWRMZXR0ZXJzLCBlcnJvckNvdW50XHJcbikge1xyXG4gIGlmIChzdGFydGluZ1RpbWUgPT0gY3VycmVudFRpbWUpIHJldHVybiAwXHJcbiAgY29uc3QgdHlwaW5nRHVyYXRpb24gPSBNYXRoLmFicyhjdXJyZW50VGltZSAtIHN0YXJ0aW5nVGltZSkgLyA2MDtcclxuICBjb25zdCB3b3JkQ291bnQgPSAodG90YWxUeXBlZExldHRlcnMgLSBlcnJvckNvdW50KSAvIDU7XHJcbiAgcmV0dXJuIE1hdGgucm91bmQod29yZENvdW50IC8gdHlwaW5nRHVyYXRpb24pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQWNjdXJhY3kodG90YWxUeXBlZExldHRlcnMsIGVycm9yQ291bnQpIHtcclxuICBsZXQgYWNjID0gMTAwO1xyXG4gIGlmICh0b3RhbFR5cGVkTGV0dGVycykge1xyXG4gICAgYWNjID0gKCh0b3RhbFR5cGVkTGV0dGVycyAtIGVycm9yQ291bnQpICogMTAwKSAvIHRvdGFsVHlwZWRMZXR0ZXJzO1xyXG4gICAgYWNjID0gKGFjYyA8IDEwMCA/IGFjYy50b0ZpeGVkKDIpIDogYWNjKTtcclxuICB9XHJcbiAgcmV0dXJuIGFjY1xyXG59IiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIlxyXG5pbXBvcnQgXCIuL3Jlc3VsdHMuanNcIlxyXG5pbXBvcnQgeyBmZXRjaFBhc3NhZ2VEYXRhIH0gZnJvbSBcIi4vZGF0YS5qc1wiO1xyXG5pbXBvcnQgeyBjb21wdXRlQWNjdXJhY3ksIGNvbXB1dGVXUE0gfSBmcm9tIFwiLi9zY29yZXMuanNcIjtcclxuXHJcbmNvbnN0ICRtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIik7XHJcbmNvbnN0ICRwZXJzb25hbEJlc3RUeHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBlcnNvbmFsLWJlc3QtdHh0XCIpO1xyXG5jb25zdCAkYmVzdFNwZWVkVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJlc3Qtc3BlZWQtdmFsdWVcIik7XHJcbmNvbnN0ICRzZXR0aW5nSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNldHRpbmctaXRlbVwiKTtcclxuY29uc3QgJHNldHRpbmdCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZXR0aW5nLWJ0blwiKTtcclxuY29uc3QgJHNldHRpbmdCdG5UZXh0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2V0dGluZy1idG4tdHh0XCIpO1xyXG5jb25zdCAkc2V0dGluZ09wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNldHRpbmctb3B0aW9uc1wiKTtcclxuY29uc3QgJHN0YXJ0aW5nU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGFydGluZy1zY3JlZW5cIik7XHJcbmNvbnN0ICRzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnQtYnRuXCIpO1xyXG5jb25zdCAkcGFzc2FnZVR4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVzdC1wYXNzYWdlLXR4dFwiKTtcclxuY29uc3QgJHBhc3NhZ2VJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVzdC1wYXNzYWdlLWlucHV0XCIpO1xyXG5jb25zdCAkcmVzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdGFydC1idG5cIik7XHJcbmNvbnN0ICR3cG1TY29yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmUtdmFsdWUtd3BtXCIpO1xyXG5jb25zdCAkYWNjdXJhY3lTY29yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmUtdmFsdWUtYWNjdXJhY3lcIik7XHJcbmNvbnN0ICR0aW1lU2NvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlLXZhbHVlLXRpbWVcIik7XHJcblxyXG4vLyBTdGF0ZVxyXG5jb25zdCBzZXR0aW5ncyA9IHtcclxuICBcImRpZmZpY3VsdHlcIjogXCJlYXN5XCIsXHJcbiAgXCJtb2RlXCI6IFwidGltZWRcIlxyXG59O1xyXG5sZXQgZXJyb3JDb3VudCA9IDA7XHJcbmxldCB0b3RhbFR5cGVkTGV0dGVycyA9IDA7XHJcbmxldCBzdGFydGluZ1RpbWUgPSA2MDtcclxubGV0IGN1cnJlbnRUaW1lID0gc3RhcnRpbmdUaW1lO1xyXG5sZXQgYmVzdFdQTSA9IGxvY2FsU3RvcmFnZS5iZXN0V1BNIHx8IDA7XHJcbmxldCBwYXNzYWdlRGF0YTtcclxubGV0IHRlc3RQYXNzYWdlO1xyXG5cclxubGV0IHNjb3JlVXBkYXRlSW50ZXJ2YWw7XHJcblxyXG4vLyBEaXNwbGF5IGR5bmFtaWMgY29udGVudFxyXG5mdW5jdGlvbiByZW5kZXJCZXN0V1BNKCkge1xyXG4gICRiZXN0U3BlZWRWYWx1ZS50ZXh0Q29udGVudCA9IGJlc3RXUE0gKyBcIldQTVwiO1xyXG59XHJcbmZ1bmN0aW9uIHJlbmRlcldQTSgpIHtcclxuICAkd3BtU2NvcmUudGV4dENvbnRlbnQgPSBjb21wdXRlV1BNKHN0YXJ0aW5nVGltZSwgY3VycmVudFRpbWUsIHRvdGFsVHlwZWRMZXR0ZXJzLCBlcnJvckNvdW50KTtcclxufVxyXG5mdW5jdGlvbiByZW5kZXJBY2N1cmFjeSgpIHtcclxuICBjb25zdCBhY2MgPSBjb21wdXRlQWNjdXJhY3kodG90YWxUeXBlZExldHRlcnMsIGVycm9yQ291bnQpO1xyXG4gICRhY2N1cmFjeVNjb3JlLnRleHRDb250ZW50ID0gYWNjICsgXCIlXCI7XHJcbn1cclxuZnVuY3Rpb24gcmVuZGVyVGltZSgpIHtcclxuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihjdXJyZW50VGltZSAvIDYwKTtcclxuICBjb25zdCBzZWNvbmRzID0gY3VycmVudFRpbWUgJSA2MDtcclxuICAkdGltZVNjb3JlLnRleHRDb250ZW50ID0gYCR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxufVxyXG5mdW5jdGlvbiByZW5kZXJTY29yZXMoKSB7XHJcbiAgcmVuZGVyV1BNKCk7XHJcbiAgcmVuZGVyQWNjdXJhY3koKTtcclxuICByZW5kZXJUaW1lKCk7XHJcbn1cclxuZnVuY3Rpb24gcmVuZGVyU2V0dGluZ3MoKSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAkc2V0dGluZ0l0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAkc2V0dGluZ0J0blRleHRzW2ldLnRleHRDb250ZW50ID0gJHNldHRpbmdPcHRpb25zW2ldLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0OmNoZWNrZWQnKS5sYWJlbHNbMF0udGV4dENvbnRlbnQ7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlbmRlclBhc3NhZ2UoKSB7XHJcbiAgJHBhc3NhZ2VUeHQuaW5uZXJIVE1MID0gXCJcIjtcclxuICBmb3IgKGxldCBpIGluIHRlc3RQYXNzYWdlKSB7XHJcbiAgICBjb25zdCBsZXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIGxldHRlci5pZCA9IFN0cmluZyhpKTtcclxuICAgIGxldHRlci5jbGFzc0xpc3QuYWRkKFwibGV0dGVyXCIpO1xyXG4gICAgbGV0dGVyLnRleHRDb250ZW50ID0gdGVzdFBhc3NhZ2VbaV07XHJcbiAgICAkcGFzc2FnZVR4dC5hcHBlbmRDaGlsZChsZXR0ZXIpO1xyXG4gIH1cclxuICAkcGFzc2FnZUlucHV0LnZhbHVlID0gXCJcIjtcclxuICAkcGFzc2FnZUlucHV0LmRhdGFzZXQucHJldlZhbHVlID0gXCJcIjtcclxufVxyXG5mdW5jdGlvbiByZW5kZXJSZXN1bHRzKCkge1xyXG4gICRtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJtYWluLXRlc3RcIik7XHJcbiAgY29uc3Qgd3BtID0gY29tcHV0ZVdQTShzdGFydGluZ1RpbWUsIGN1cnJlbnRUaW1lLCB0b3RhbFR5cGVkTGV0dGVycywgZXJyb3JDb3VudCk7XHJcbiAgY29uc3QgYWNjID0gY29tcHV0ZUFjY3VyYWN5KHRvdGFsVHlwZWRMZXR0ZXJzLCBlcnJvckNvdW50KTtcclxuICBjb25zdCBhY2NfY29sb3IgPSBhY2MgPT0gMTAwID8gXCJncmVlbi10eHRcIiA6IFwicmVkLXR4dFwiO1xyXG4gIGxldCByZXN1bHRUeHQgPSBcIlwiO1xyXG5cclxuICBpZiAoIWxvY2FsU3RvcmFnZS5iZXN0V1BNKSB7ICAgIFxyXG4gICAgcmVzdWx0VHh0ICs9IGBcclxuICAgICAgPHNwYW4gc2xvdD1cInRpdGxlXCI+QmFzZWxpbmUgRXN0YWJsaXNoZWQhPC9zcGFuPlxyXG4gICAgICA8c3BhbiBzbG90PVwiY29udGVudFwiPllvdSd2ZSBzZXQgdGhlIGJhci4gTm93IHRoZSByZWFsIGNoYWxsZW5nZSBiZWdpbnPigJR0aW1lIHRvIGJlYXQgaXQuPC9zcGFuPlxyXG4gICAgYDtcclxuICB9IGVsc2UgaWYgKHdwbSA+IGJlc3RXUE0pIHtcclxuICAgIHJlc3VsdFR4dCArPSBgXHJcbiAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2ltYWdlcy9pY29uLW5ldy1wYi5zdmdcIiBhbHQ9XCJcIiBzbG90PVwiaWNvblwiPlxyXG4gICAgICA8c3BhbiBzbG90PVwidGl0bGVcIj5IaWdoIFNjb3JlIFNtYXNoZWQhPC9zcGFuPlxyXG4gICAgICA8c3BhbiBzbG90PVwiY29udGVudFwiPllvdSdyZSBnZXR0aW5nIGZhc3Rlci4gVGhhdCB3YXMgaW5jcmVkaWJsZSB0eXBpbmcuPC9zcGFuPlxyXG4gICAgICA8c3BhbiBzbG90PVwicmVzdGFydC1idG4tdHh0XCI+QmVhdCBUaGlzIFNjb3JlPC9zcGFuPlxyXG4gICAgYDtcclxuICB9XHJcbiAgJG1haW4uaW5uZXJIVE1MID0gYFxyXG4gICAgPHJlc3VsdC12aWV3PlxyXG4gICAgICAke3Jlc3VsdFR4dH1cclxuICAgICAgPHNwYW4gc2xvdD1cIndwbVwiPiR7d3BtfTwvc3Bhbj5cclxuICAgICAgPHNwYW4gc2xvdD1cImFjY3VyYWN5XCIgY2xhc3M9XCIke2FjY19jb2xvcn1cIj4ke2FjY30lPC9zcGFuPlxyXG4gICAgICA8c3BhbiBzbG90PVwiY2hhcmFjdGVyc1wiPiR7dG90YWxUeXBlZExldHRlcnN9PC9zcGFuPlxyXG4gICAgPC9yZXN1bHQtdmlldz5cclxuICBgO1xyXG59XHJcblxyXG4vLyBIYW5kbGUgc2V0dGluZ3NcclxuZnVuY3Rpb24gaGlkZURyb3Bkb3ducyhldmVudCkge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgJHNldHRpbmdJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgY2xpY2tBcmVhID0gJHNldHRpbmdJdGVtc1tpXTtcclxuICAgIGNvbnN0IGRyb3Bkb3duID0gJHNldHRpbmdPcHRpb25zW2ldO1xyXG4gICAgaWYgKCFjbGlja0FyZWEuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xyXG4gICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKFwiaW52aXNpYmxlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5mdW5jdGlvbiB0b2dnbGVPcHRpb25zKGkpIHtcclxuICAkc2V0dGluZ09wdGlvbnNbaV0uY2xhc3NMaXN0LnRvZ2dsZShcImludmlzaWJsZVwiKTtcclxufVxyXG5mdW5jdGlvbiBjaGFuZ2VTZXR0aW5nKGUpIHtcclxuICBzZXR0aW5nc1tlLnRhcmdldC5uYW1lXSA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gIGlmIChlLnRhcmdldC5uYW1lID09IFwibW9kZVwiKSB7XHJcbiAgICBzdGFydGluZ1RpbWUgPSBlLnRhcmdldC52YWx1ZSA9PSBcInRpbWVkXCIgPyA2MCA6IDA7XHJcbiAgfVxyXG4gIHJlbmRlclNldHRpbmdzKCk7XHJcbiAgcmVzdGFydFRlc3QoKTtcclxufVxyXG5cclxuLy8gSGFuZGxlIGlucHV0XHJcbmZ1bmN0aW9uIGhhbmRsZUludmFsaWRBY3Rpb24oZSkge1xyXG4gIGlmIChlLmtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBoYW5kbGVQYXNzYWdlSW5wdXQoZSkge1xyXG4gIGNvbnN0IGlucHV0UGFzc2FnZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gIGNvbnN0IGxlbmd0aCA9IGlucHV0UGFzc2FnZS5sZW5ndGg7XHJcbiAgXHJcbiAgLy8gUHJldmVudCBkZWxldGlvbi9pbnNlcnRpb24gb2YgbXVsdGlwbGUgbGV0dGVycyBhdCBvbmNlXHJcbiAgaWYgKE1hdGguYWJzKGxlbmd0aCAtIGUudGFyZ2V0LmRhdGFzZXQucHJldlZhbHVlLmxlbmd0aCkgIT09IDEpIHtcclxuICAgIGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQuZGF0YXNldC5wcmV2VmFsdWU7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGlmIChlLmlucHV0VHlwZSA9PT0gXCJkZWxldGVDb250ZW50QmFja3dhcmRcIikge1xyXG4gICAgaGFuZGxlRGVsZXRlKGxlbmd0aCk7XHJcbiAgfSBlbHNlIGlmIChlLmlucHV0VHlwZSA9PT0gXCJpbnNlcnRUZXh0XCIpIHtcclxuICAgIGhhbmRsZUluc2VydChpbnB1dFBhc3NhZ2UsIGxlbmd0aCk7XHJcbiAgfVxyXG4gIFxyXG4gIGUudGFyZ2V0LmRhdGFzZXQucHJldlZhbHVlID0gaW5wdXRQYXNzYWdlO1xyXG5cclxuICBpZiAobGVuZ3RoID09PSB0ZXN0UGFzc2FnZS5sZW5ndGgpIHtcclxuICAgIHByb2Nlc3NSZXN1bHRzKCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIFxyXG4gIGF1dG9TY3JvbGwobGVuZ3RoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW5zZXJ0KGlucHV0UGFzc2FnZSwgbGVuZ3RoKSB7XHJcbiAgY29uc3QgbGV0dGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGVuZ3RoIC0gMSk7XHJcbiAgbGV0dGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWdobGlnaHRlZC1sZXR0ZXJcIik7XHJcbiAgaWYgKGlucHV0UGFzc2FnZS5hdCgtMSkgPT09IGxldHRlci50ZXh0Q29udGVudCkge1xyXG4gICAgbGV0dGVyLmNsYXNzTGlzdC5hZGQoXCJncmVlbi10eHRcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxldHRlci5jbGFzc0xpc3QuYWRkKFwicmVkLXR4dFwiKTtcclxuICAgIGxldHRlci5jbGFzc0xpc3QuYWRkKFwidW5kZXJsaW5lZC10eHRcIik7XHJcbiAgICBlcnJvckNvdW50Kys7XHJcbiAgfVxyXG4gIHRvdGFsVHlwZWRMZXR0ZXJzKys7XHJcblxyXG4gIGNvbnN0IG54dExldHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxlbmd0aCk7XHJcbiAgaWYgKG54dExldHRlcikge1xyXG4gICAgbnh0TGV0dGVyLmNsYXNzTGlzdC5hZGQoXCJoaWdobGlnaHRlZC1sZXR0ZXJcIik7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZShsZW5ndGgpIHtcclxuICBjb25zdCBsZXR0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsZW5ndGgpO1xyXG4gIGxldHRlci5jbGFzc0xpc3QuYWRkKFwiaGlnaGxpZ2h0ZWQtbGV0dGVyXCIpO1xyXG4gIGxldHRlci5jbGFzc0xpc3QucmVtb3ZlKFwiZ3JlZW4tdHh0XCIpO1xyXG4gIGxldHRlci5jbGFzc0xpc3QucmVtb3ZlKFwicmVkLXR4dFwiKTtcclxuICBsZXR0ZXIuY2xhc3NMaXN0LnJlbW92ZShcInVuZGVybGluZWQtdHh0XCIpO1xyXG5cclxuICBjb25zdCBueHRMZXR0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsZW5ndGggKyAxKTtcclxuICBpZiAobnh0TGV0dGVyKSB7XHJcbiAgICBueHRMZXR0ZXIuY2xhc3NMaXN0LnJlbW92ZShcImhpZ2hsaWdodGVkLWxldHRlclwiKTtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gYXV0b1Njcm9sbChsZW5ndGgpIHtcclxuICBjb25zdCBsZXR0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsZW5ndGgpO1xyXG4gIGNvbnN0IHNjcm9sbFZhbHVlID0gbGV0dGVyLm9mZnNldFRvcCAtIDAuNSAqICRwYXNzYWdlVHh0Lm9mZnNldEhlaWdodDtcclxuICAkcGFzc2FnZVR4dC5zY3JvbGwoe1xyXG4gICAgdG9wOiBzY3JvbGxWYWx1ZSxcclxuICAgIGxlZnQ6IDAsXHJcbiAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICB9KTtcclxufVxyXG5cclxuLy8gVGVzdCBzdGFydC9yZXN0YXJ0XHJcbmZ1bmN0aW9uIHNlbGVjUmFuZG9tUGFzc2FnZSgpIHtcclxuICBsZXQgcGFzc2FnZXMgPSBwYXNzYWdlRGF0YVtzZXR0aW5ncy5kaWZmaWN1bHR5XTtcclxuICByZXR1cm4gcGFzc2FnZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcGFzc2FnZXMubGVuZ3RoKV0udGV4dDtcclxufVxyXG5mdW5jdGlvbiByZXN0YXJ0VGVzdCgpIHtcclxuICBlcnJvckNvdW50ID0gMDtcclxuICB0b3RhbFR5cGVkTGV0dGVycyA9IDA7XHJcbiAgY3VycmVudFRpbWUgPSBzdGFydGluZ1RpbWU7XHJcbiAgdGVzdFBhc3NhZ2UgPSBzZWxlY1JhbmRvbVBhc3NhZ2UoKTtcclxuICByZW5kZXJTY29yZXMoKTtcclxuICByZW5kZXJQYXNzYWdlKCk7XHJcbiAgJHBhc3NhZ2VJbnB1dC5mb2N1cygpO1xyXG59XHJcbmZ1bmN0aW9uIHN0YXJ0VGVzdCgpIHtcclxuICAvLyBTaG93IHBhc3NhZ2VcclxuICAkc3RhcnRpbmdTY3JlZW4uY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKTtcclxuICAkcGFzc2FnZUlucHV0LmZvY3VzKCk7XHJcbiAgJHJlc3RhcnRCdG4uY2xhc3NMaXN0LmFkZChcInJlc3RhcnQtYnRuLXNob3duXCIpO1xyXG5cclxuICAvLyBBZGQgY29sb3JzIHRvIHNjb3Jlc1xyXG4gICRhY2N1cmFjeVNjb3JlLmNsYXNzTGlzdC5hZGQoXCJyZWQtdHh0XCIpO1xyXG4gICR0aW1lU2NvcmUuY2xhc3NMaXN0LmFkZChcInllbGxvdy10eHRcIik7XHJcblxyXG4gIC8vIFN0YXJ0IHRpbWVyXHJcbiAgc2NvcmVVcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZVNjb3JlcywgMTAwMCk7XHJcbn1cclxuXHJcbi8vIFNjb3Jlc1xyXG5mdW5jdGlvbiB1cGRhdGVTY29yZXMoKSB7XHJcbiAgaWYgKHNldHRpbmdzLm1vZGUgPT09IFwidGltZWRcIikge1xyXG4gICAgY3VycmVudFRpbWUtLTtcclxuICB9IGVsc2Uge1xyXG4gICAgY3VycmVudFRpbWUrKztcclxuICB9XHJcbiAgcmVuZGVyU2NvcmVzKCk7XHJcbiAgaWYgKGN1cnJlbnRUaW1lID09PSAwKSB7XHJcbiAgICBwcm9jZXNzUmVzdWx0cygpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gUmVzdWx0XHJcbmZ1bmN0aW9uIHByb2Nlc3NSZXN1bHRzKCkge1xyXG4gIGNsZWFySW50ZXJ2YWwoc2NvcmVVcGRhdGVJbnRlcnZhbCk7XHJcbiAgcmVuZGVyUmVzdWx0cygpOyBcclxuICBiZXN0V1BNID0gTWF0aC5tYXgoYmVzdFdQTSwgY29tcHV0ZVdQTShzdGFydGluZ1RpbWUsIGN1cnJlbnRUaW1lLCB0b3RhbFR5cGVkTGV0dGVycywgZXJyb3JDb3VudCkpO1xyXG4gIGxvY2FsU3RvcmFnZS5iZXN0V1BNID0gYmVzdFdQTTtcclxuICByZW5kZXJCZXN0V1BNKCk7XHJcbn1cclxuXHJcbi8vIE90aGVyXHJcbmZ1bmN0aW9uIGZvY3VzUGFzc2FnZSgpe1xyXG4gICRwYXNzYWdlSW5wdXQuZm9jdXMoKTtcclxufVxyXG5mdW5jdGlvbiBkaXNwbGF5RGVza3RvcCgpIHtcclxuICAkcGVyc29uYWxCZXN0VHh0LnRleHRDb250ZW50ID0gXCJQZXJzb25hbCBiZXN0OlwiO1xyXG59XHJcblxyXG5mZXRjaFBhc3NhZ2VEYXRhKCkudGhlbigoZGF0YSkgPT4ge1xyXG4gIHBhc3NhZ2VEYXRhID0gZGF0YTtcclxuICB0ZXN0UGFzc2FnZSA9IHNlbGVjUmFuZG9tUGFzc2FnZSgpO1xyXG4gIHJlbmRlclBhc3NhZ2UoKTtcclxufSlcclxuLmNhdGNoICgoZXJyb3IpID0+IHtcclxuICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgZ2V0IHBhc3NhZ2VzOiAke2Vycm9yfWApO1xyXG59KTtcclxuXHJcbmNvbnN0IGRlc2t0b3BWaWV3ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA0MGVtKVwiKS5tYXRjaGVzO1xyXG5pZiAoZGVza3RvcFZpZXcpIHtcclxuICBkaXNwbGF5RGVza3RvcCgpO1xyXG59XHJcblxyXG4kYmVzdFNwZWVkVmFsdWUudGV4dENvbnRlbnQgPSBiZXN0V1BNICsgXCJXUE1cIjtcclxuJHNldHRpbmdCdG5zLmZvckVhY2goKGJ0biwgaSkgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0b2dnbGVPcHRpb25zKGkpKSk7XHJcbiRzZXR0aW5nT3B0aW9ucy5mb3JFYWNoKChvcHRpb25zKSA9PiBvcHRpb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IGNoYW5nZVNldHRpbmcoZSkpKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoaWRlRHJvcGRvd25zKTtcclxuJHN0YXJ0QnRuLmZvY3VzKCk7XHJcbiRzdGFydGluZ1NjcmVlbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc3RhcnRUZXN0KTtcclxuJHBhc3NhZ2VUeHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZvY3VzUGFzc2FnZSk7XHJcbiRwYXNzYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlSW52YWxpZEFjdGlvbik7XHJcbiRwYXNzYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGhhbmRsZVBhc3NhZ2VJbnB1dCk7XHJcbiRyZXN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZXN0YXJ0VGVzdCk7XHJcbiIsIi8vIEZldGNoIGRhdGFcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoUGFzc2FnZURhdGEoKSB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zb21haWEwMi90eXBpbmctdGVzdC9tYXN0ZXIvZGF0YS5qc29uXCIpO1xyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgfVxyXG4gIGNvbnN0IHBhc3NhZ2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIHJldHVybiBwYXNzYWdlRGF0YTtcclxufSJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNoZWV0IiwiQ1NTU3R5bGVTaGVldCIsInJlcGxhY2VTeW5jIiwiUmVzdWx0VmlldyIsIkhUTUxFbGVtZW50IiwiY29uc3RydWN0b3IiLCJzdXBlciIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJzaGFkb3dSb290IiwiYWRvcHRlZFN0eWxlU2hlZXRzIiwiaW5uZXJIVE1MIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJyZXN0YXJ0QnRuIiwicXVlcnlTZWxlY3RvciIsImZvY3VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY29tcHV0ZVdQTSIsInN0YXJ0aW5nVGltZSIsImN1cnJlbnRUaW1lIiwidG90YWxUeXBlZExldHRlcnMiLCJlcnJvckNvdW50IiwidHlwaW5nRHVyYXRpb24iLCJNYXRoIiwiYWJzIiwid29yZENvdW50Iiwicm91bmQiLCJjb21wdXRlQWNjdXJhY3kiLCJhY2MiLCJ0b0ZpeGVkIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCIkbWFpbiIsImRvY3VtZW50IiwiJHBlcnNvbmFsQmVzdFR4dCIsIiRiZXN0U3BlZWRWYWx1ZSIsIiRzZXR0aW5nSXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiJHNldHRpbmdCdG5zIiwiJHNldHRpbmdCdG5UZXh0cyIsIiRzZXR0aW5nT3B0aW9ucyIsIiRzdGFydGluZ1NjcmVlbiIsIiRzdGFydEJ0biIsIiRwYXNzYWdlVHh0IiwiJHBhc3NhZ2VJbnB1dCIsIiRyZXN0YXJ0QnRuIiwiJHdwbVNjb3JlIiwiJGFjY3VyYWN5U2NvcmUiLCIkdGltZVNjb3JlIiwic2V0dGluZ3MiLCJwYXNzYWdlRGF0YSIsInRlc3RQYXNzYWdlIiwic2NvcmVVcGRhdGVJbnRlcnZhbCIsImJlc3RXUE0iLCJsb2NhbFN0b3JhZ2UiLCJyZW5kZXJTY29yZXMiLCJ0ZXh0Q29udGVudCIsInJlbmRlckFjY3VyYWN5IiwibWludXRlcyIsImZsb29yIiwic2Vjb25kcyIsInBhZFN0YXJ0IiwicmVuZGVyVGltZSIsInJlbmRlclBhc3NhZ2UiLCJsZXR0ZXIiLCJjcmVhdGVFbGVtZW50IiwiU3RyaW5nIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJ2YWx1ZSIsImRhdGFzZXQiLCJwcmV2VmFsdWUiLCJzZWxlY1JhbmRvbVBhc3NhZ2UiLCJwYXNzYWdlcyIsImRpZmZpY3VsdHkiLCJyYW5kb20iLCJ0ZXh0IiwicmVzdGFydFRlc3QiLCJ1cGRhdGVTY29yZXMiLCJwcm9jZXNzUmVzdWx0cyIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmUiLCJ3cG0iLCJhY2NfY29sb3IiLCJyZXN1bHRUeHQiLCJyZW5kZXJSZXN1bHRzIiwibWF4IiwiYXN5bmMiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJmZXRjaFBhc3NhZ2VEYXRhIiwidGhlbiIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJmb3JFYWNoIiwiYnRuIiwidG9nZ2xlIiwidG9nZ2xlT3B0aW9ucyIsIm9wdGlvbnMiLCJlIiwidGFyZ2V0IiwibmFtZSIsImxhYmVscyIsInJlbmRlclNldHRpbmdzIiwiY2hhbmdlU2V0dGluZyIsImV2ZW50IiwiY2xpY2tBcmVhIiwiZHJvcGRvd24iLCJjb250YWlucyIsInNldEludGVydmFsIiwicHJldmVudERlZmF1bHQiLCJpbnB1dFBhc3NhZ2UiLCJpbnB1dFR5cGUiLCJnZXRFbGVtZW50QnlJZCIsIm54dExldHRlciIsImhhbmRsZURlbGV0ZSIsImF0IiwiaGFuZGxlSW5zZXJ0Iiwic2Nyb2xsVmFsdWUiLCJvZmZzZXRUb3AiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGwiLCJ0b3AiLCJsZWZ0IiwiYmVoYXZpb3IiLCJhdXRvU2Nyb2xsIl0sInNvdXJjZVJvb3QiOiIifQ==